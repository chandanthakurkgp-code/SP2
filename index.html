<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KHARAGPUR - All Shops & Services</title>
    <style>
        * { box-sizing: border-box; transition: background 0.3s, color 0.3s; }
        
        :root { 
            --light-green: #90EE90; 
            --green-shadow: #76c776; 
            --dark-bg: #1a1a1a; 
            --white-bg: #ffffff; 
            --text-color: #000000;
            --card-bg: #ffffff;
        }

        body.night-mode {
            --white-bg: #121212;
            --text-color: #ffffff;
            --card-bg: #1e1e1e;
            --dark-bg: #000000;
        }
        
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; padding: 0; 
            background-color: var(--white-bg); 
            color: var(--text-color);
            overflow-x: hidden; 
        }

        /* Main Header */
        .main-header { 
            text-align: center; 
            background-color: var(--light-green); 
            padding: 25px 0 15px 0; 
            color: #000; 
            border-bottom: 4px solid var(--green-shadow);
        }
        .main-title { font-size: clamp(30px, 8vw, 50px); font-weight: 900; margin: 0; }

        /* Top Buttons Container */
        .top-actions {
            background: var(--dark-bg);
            padding: 15px 10px;
            display: flex;
            justify-content: center;
            gap: 10px; /* Side by side space */
        }
        
        .mode-btn, .links-toggle-btn { 
            background-color: var(--light-green); 
            color: #000; 
            padding: 12px 15px; 
            border-radius: 12px; 
            font-weight: 900; 
            border: none; 
            cursor: pointer;
            box-shadow: 0 4px 0 var(--green-shadow);
            font-size: 14px;
            flex: 1;
            max-width: 200px;
        }
        .links-toggle-btn { background-color: #00bcd4; box-shadow: 0 4px 0 #008ba3; color: white; }

        /* Links Modal/Popup Style */
        #linksModal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            padding: 20px;
        }
        .modal-content {
            background: var(--card-bg);
            color: var(--text-color);
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
            border-radius: 20px;
            border: 5px solid var(--light-green);
        }
        .link-item {
            display: block;
            background: var(--light-green);
            color: #000;
            padding: 15px;
            margin: 10px 0;
            text-decoration: none;
            text-align: center;
            font-weight: bold;
            border-radius: 10px;
            box-shadow: 0 3px 0 var(--green-shadow);
        }

        /* Search & Nav */
        .search-container { background: var(--dark-bg); padding: 0 15px 15px 15px; border-bottom: 3px solid var(--light-green); }
        .global-search-bar { width: 100%; max-width: 600px; padding: 15px; border-radius: 50px; border: 3px solid var(--light-green); font-size: 18px; display: block; margin: 0 auto; }

        .nav-container { background-color: var(--dark-bg); padding: 15px 0; position: sticky; top: 0; z-index: 1000; display: flex; gap: 10px; border-bottom: 4px solid var(--light-green); overflow-x: auto; padding-left: 10px; }
        .tab-btn { font-size: 15px; padding: 10px 18px; font-weight: 900; cursor: pointer; border-radius: 50px; background-color: var(--light-green); border: none; white-space: nowrap; box-shadow: 0 4px 0 var(--green-shadow); }
        .tab-btn.active { background-color: #fff; transform: translateY(3px); box-shadow: 0 2px 0 var(--green-shadow); }

        .container { padding: 15px; max-width: 1100px; margin: auto; }
        .section { display: none; }
        .section.active { display: block; }
        .list-card { background: var(--card-bg); padding: 20px; border-radius: 20px; border: 5px solid var(--light-green); margin-bottom: 15px; }
        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 15px; }
        .action-btn { padding: 10px; text-decoration: none; color: #000; border-radius: 50px; text-align: center; font-weight: 900; background-color: var(--light-green); border: none; }
    </style>
</head>
<body>

<div class="main-header">
    <h1 class="main-title">KHARAGPUR</h1>
    <div class="main-subtitle">ALL SHOPS & SERVICES</div>
</div>

<div class="top-actions">
    <button class="mode-btn" onclick="toggleNightMode()" id="modeBtn">üåô NIGHT MODE</button>
    <button class="links-toggle-btn" onclick="toggleLinksModal()">üåê QUICK LINKS</button>
</div>

<div id="linksModal">
    <div class="modal-content">
        <h2 style="text-align:center;">My Website Links</h2>
        <hr>
        <div style="max-height: 400px; overflow-y: auto; padding: 10px;">
            <a href="https://www.google.com" target="_blank" class="link-item">Google Search</a>
            <a href="https://www.facebook.com" target="_blank" class="link-item">Facebook</a>
            <a href="https://www.youtube.com" target="_blank" class="link-item">YouTube</a>
            <a href="https://www.wikipedia.org" target="_blank" class="link-item">Wikipedia</a>
            <a href="#" class="link-item">Naya Link 1</a>
            <a href="#" class="link-item">Naya Link 2</a>
        </div>
        <button onclick="toggleLinksModal()" style="width:100%; padding:10px; margin-top:15px; background:red; color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold;">CLOSE (‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç)</button>
    </div>
</div>

<div class="search-container">
    <input type="text" id="globalSearch" class="global-search-bar" placeholder="‡§Ø‡§π‡§æ‡§Å ‡§¶‡•Å‡§ï‡§æ‡§® ‡§Ø‡§æ ‡§∏‡•á‡§µ‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§ñ‡•ã‡§ú‡•á‡§Ç..." onkeyup="globalFilter()">
</div>

<div class="nav-container" id="tabMenu"></div>
<div class="container" id="contentArea"></div>

<script src="saloonData.js"></script>
<script src="autoData.js"></script>
<script src="doctorData.js"></script>
<script src="electricianData.js"></script>
<script src="teacherData.js"></script>

<script>
    const shopData = { ...saloonData, ...autoData, ...doctorData, ...electricianData, ...teacherData };

    function toggleNightMode() {
        document.body.classList.toggle('night-mode');
        const btn = document.getElementById('modeBtn');
        if (document.body.classList.contains('night-mode')) {
            btn.innerHTML = "‚òÄÔ∏è LIGHT MODE";
            localStorage.setItem('theme', 'night');
        } else {
            btn.innerHTML = "üåô NIGHT MODE";
            localStorage.setItem('theme', 'light');
        }
    }

    // Links Modal dikhane aur chhupane ke liye
    function toggleLinksModal() {
        const modal = document.getElementById('linksModal');
        modal.style.display = (modal.style.display === "block") ? "none" : "block";
    }

    window.onload = function() {
        if(localStorage.getItem('theme') === 'night') {
            document.body.classList.add('night-mode');
            document.getElementById('modeBtn').innerHTML = "‚òÄÔ∏è LIGHT MODE";
        }
        init();
    };

    function init() {
        const tabMenu = document.getElementById('tabMenu');
        const contentArea = document.getElementById('contentArea');
        const keys = Object.keys(shopData);
        
        keys.forEach((key, index) => {
            const btn = document.createElement('button');
            btn.id = `btn-${key}`;
            btn.className = `tab-btn ${index === 0 ? 'active' : ''}`;
            btn.innerText = shopData[key].title;
            btn.onclick = (e) => showSection(key, e.target);
            tabMenu.appendChild(btn);

            const section = document.createElement('div');
            section.id = key;
            section.className = `section ${index === 0 ? 'active' : ''}`;
            
            let partnersHtml = '';
            shopData[key].partners.forEach((p) => {
                const shopId = p.name.replace(/\s+/g, '-').toLowerCase();
                partnersHtml += `
                    <div class="list-card" id="card-${shopId}">
                        <h3 style="color:var(--green-shadow); margin-top:0;">${p.name}</h3>
                        <p>üìç ${p.address}</p>
                        <p>üìû ${p.mobile}</p>
                        <div class="btn-group">
                            <a href="tel:${p.mobile}" class="action-btn">üìû CALL</a>
                            <a href="https://wa.me/${p.whatsapp}" class="action-btn">üí¨ WHATSAPP</a>
                        </div>
                    </div>`;
            });
            section.innerHTML = `<div id="${key}List" class="grid-container">${partnersHtml}</div>`;
            contentArea.appendChild(section);
        });
    }

    function showSection(id, btn) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        const target = document.getElementById(id);
        if(target) target.classList.add('active');
        if(btn) btn.classList.add('active');
        document.getElementById('globalSearch').value = "";
        globalFilter(); 
    }

    function globalFilter() {
        const term = document.getElementById('globalSearch').value.toLowerCase();
        const activeSection = document.querySelector('.section.active');
        if (activeSection) {
            const cards = activeSection.querySelectorAll('.list-card');
            cards.forEach(card => {
                card.style.display = card.innerText.toLowerCase().includes(term) ? "block" : "none";
            });
        }
    }
</script>
</body>
</html>
