<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUPERINTENDENT OF POLICE ‚Äì Paschim Medinipur</title>
    <style>
        * { box-sizing: border-box; transition: background 0.3s, color 0.3s; }
        
        :root { 
            --light-green: #90EE90; 
            --green-shadow: #76c776; 
            --dark-bg: #1a1a1a; 
            --white-bg: #ffffff; 
            --text-color: #000000;
            --card-bg: #ffffff;
            --btn-blue: #00bcd4;
            --btn-orange: #ff9800;
        }

        body.night-mode {
            --white-bg: #121212;
            --text-color: #ffffff;
            --card-bg: #1e1e1e;
            --dark-bg: #000000;
        }
        
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; padding: 0; 
            background-color: var(--white-bg); 
            color: var(--text-color);
            overflow-x: hidden; 
        }

        /* Main Header */
        .main-header { 
            text-align: center; 
            background-color: var(--light-green); 
            padding: 25px 10px 15px 10px; 
            color: #000; 
            border-bottom: 4px solid var(--green-shadow);
        }
        .main-title { font-size: clamp(24px, 6vw, 40px); font-weight: 900; margin: 0; text-transform: uppercase; }
        .main-subtitle { font-size: 16px; font-weight: 800; letter-spacing: 2px; margin-top: 5px; }

        /* Top Buttons Container */
        .top-actions {
            background: var(--dark-bg);
            padding: 15px 10px;
            display: flex;
            justify-content: center;
            gap: 8px; 
            flex-wrap: wrap; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§¨‡§ü‡§® ‡§Ö‡§ó‡§≤‡•Ä ‡§≤‡§æ‡§á‡§® ‡§Æ‡•á‡§Ç ‡§Ü ‡§∏‡§ï‡•á‡§Ç */
        }
        
        .mode-btn, .links-btn { 
            padding: 12px 10px; 
            border-radius: 10px; 
            font-weight: 900; 
            border: none; 
            cursor: pointer;
            font-size: 12px;
            min-width: 100px;
            flex: 1;
            max-width: 150px;
            text-align: center;
            text-transform: uppercase;
        }

        .mode-btn { background-color: var(--light-green); color: #000; box-shadow: 0 4px 0 var(--green-shadow); }
        .links-btn.blue { background-color: var(--btn-blue); box-shadow: 0 4px 0 #008ba3; color: white; }
        .links-btn.orange { background-color: var(--btn-orange); box-shadow: 0 4px 0 #c67600; color: white; }

        /* Modals Style */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 2000;
            padding: 20px;
        }
        .modal-content {
            background: var(--card-bg);
            color: var(--text-color);
            max-width: 500px;
            margin: 40px auto;
            padding: 20px;
            border-radius: 20px;
            border: 5px solid var(--light-green);
            position: relative;
        }
        .link-item {
            display: block;
            background: var(--light-green);
            color: #000;
            padding: 15px;
            margin: 10px 0;
            text-decoration: none;
            text-align: center;
            font-weight: bold;
            border-radius: 10px;
            box-shadow: 0 3px 0 var(--green-shadow);
        }

        /* Search & Nav */
        .search-container { background: var(--dark-bg); padding: 0 15px 15px 15px; border-bottom: 3px solid var(--light-green); }
        .global-search-bar { width: 100%; max-width: 600px; padding: 15px; border-radius: 50px; border: 3px solid var(--light-green); font-size: 18px; display: block; margin: 0 auto; outline: none; }

        .nav-container { background-color: var(--dark-bg); padding: 15px 0; position: sticky; top: 0; z-index: 1000; display: flex; gap: 10px; border-bottom: 4px solid var(--light-green); overflow-x: auto; padding-left: 10px; scrollbar-width: none; }
        .tab-btn { font-size: 14px; padding: 10px 20px; font-weight: 900; cursor: pointer; border-radius: 50px; background-color: var(--light-green); border: none; white-space: nowrap; box-shadow: 0 4px 0 var(--green-shadow); }
        .tab-btn.active { background-color: #fff; transform: translateY(3px); box-shadow: 0 2px 0 var(--green-shadow); }

        .container { padding: 15px; max-width: 1100px; margin: auto; }
        .section { display: none; }
        .section.active { display: block; }
        .list-card { background: var(--card-bg); padding: 20px; border-radius: 20px; border: 5px solid var(--light-green); margin-bottom: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 15px; }
        .action-btn { padding: 12px; text-decoration: none; color: #000; border-radius: 50px; text-align: center; font-weight: 900; background-color: var(--light-green); border: none; font-size: 13px; }
        
        .close-modal { width: 100%; padding: 12px; margin-top: 15px; background: #ff4d4d; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<div class="main-header">
    <h1 class="main-title">SUPERINTENDENT OF POLICE</h1>
    <div class="main-subtitle">PASCHIM MEDINIPUR</div>
</div>

<div class="top-actions">
    <button class="mode-btn" onclick="toggleNightMode()" id="modeBtn">üåô NIGHT MODE</button>
    <button class="links-btn blue" onclick="toggleModal('quickLinksModal')">üåê QUICK LINKS</button>
    <button class="links-btn orange" onclick="toggleModal('importantLinksModal')">üìå IMPORTANT SITES</button>
</div>

<div id="quickLinksModal" class="modal">
    <div class="modal-content">
        <h2 style="text-align:center; margin-top:0;">üåê All PS</h2>
        <hr>
        <div style="max-height: 400px; overflow-y: auto; padding: 5px;">
            <a href="https://www.google.com" target="_blank" class="link-item">Google Search</a>
            <a href="https://www.facebook.com" target="_blank" class="link-item">Facebook</a>
            <a href="https://www.youtube.com" target="_blank" class="link-item">YouTube</a>
            <a href="https://wmdppolicekhoj.co.in/" target="_blank" class="link-item">Khoj (Police Dept)</a>
        </div>
        <button onclick="toggleModal('quickLinksModal')" class="close-modal">CLOSE (‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç)</button>
    </div>
</div>

<div id="importantLinksModal" class="modal">
    <div class="modal-content">
        <h2 style="text-align:center; margin-top:0;">üìå Important Sites</h2>
        <hr>
        <div style="max-height: 400px; overflow-y: auto; padding: 5px;">
            <a href="https://westbengalpolice.gov.in/" target="_blank" class="link-item">West Bengal Police</a>
            <a href="https://paschimmedinipur.gov.in/" target="_blank" class="link-item">District Website</a>
            <a href="https://wbpolice.gov.in/" class="link-item">West Bengal Police</a>
            <a href="https://paschimmdppolice.wb.gov.in/" class="link-item">Paschim Medinipur District Police</a>
            <a href="#" class="link-item">New Update Link</a>
            <a href="#" class="link-item">New Update Link</a>

        </div>
        <button onclick="toggleModal('importantLinksModal')" class="close-modal">CLOSE (‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç)</button>
    </div>
</div>

<div class="search-container">
    <input type="text" id="globalSearch" class="global-search-bar" placeholder="‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡§æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§ñ‡•ã‡§ú‡•á‡§Ç..." onkeyup="globalFilter()">
</div>

<div class="nav-container" id="tabMenu"></div>
<div class="container" id="contentArea"></div>

<script src="aspData.js"></script>
<script src="sdpoData.js"></script>

<script>
    const shopData = { ...aspData, ...sdpoData };

    function toggleNightMode() {
        document.body.classList.toggle('night-mode');
        const btn = document.getElementById('modeBtn');
        if (document.body.classList.contains('night-mode')) {
            btn.innerHTML = "‚òÄÔ∏è LIGHT MODE";
            localStorage.setItem('theme', 'night');
        } else {
            btn.innerHTML = "üåô NIGHT MODE";
            localStorage.setItem('theme', 'light');
        }
    }

    // ‡§¶‡•ã‡§®‡•ã‡§Ç Modals ‡§ï‡•ã ‡§ï‡§Ç‡§ü‡•ç‡§∞‡•ã‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§ï‡•â‡§Æ‡§® ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
    function toggleModal(modalId) {
        const modal = document.getElementById(modalId);
        modal.style.display = (modal.style.display === "block") ? "none" : "block";
    }

    // ‡§¨‡§æ‡§π‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§Æ‡•ã‡§°‡§≤ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
    window.onclick = function(event) {
        if (event.target.className === 'modal') {
            event.target.style.display = "none";
        }
    }

    window.onload = function() {
        if(localStorage.getItem('theme') === 'night') {
            document.body.classList.add('night-mode');
            document.getElementById('modeBtn').innerHTML = "‚òÄÔ∏è LIGHT MODE";
        }
        init();
    };

    function init() {
        const tabMenu = document.getElementById('tabMenu');
        const contentArea = document.getElementById('contentArea');
        const keys = Object.keys(shopData);
        
        keys.forEach((key, index) => {
            const btn = document.createElement('button');
            btn.id = `btn-${key}`;
            btn.className = `tab-btn ${index === 0 ? 'active' : ''}`;
            btn.innerText = shopData[key].title;
            btn.onclick = (e) => showSection(key, e.target);
            tabMenu.appendChild(btn);

            const section = document.createElement('div');
            section.id = key;
            section.className = `section ${index === 0 ? 'active' : ''}`;
            
            let partnersHtml = '';
            shopData[key].partners.forEach((p) => {
                const shopId = p.name.replace(/\s+/g, '-').toLowerCase();
                partnersHtml += `
                    <div class="list-card" id="card-${shopId}">
                        <h3 style="color:var(--green-shadow); margin-top:0;">${p.name}</h3>
                        <p>üìç ${p.address}</p>
                        <p>üìû ${p.mobile}</p>
                        <div class="btn-group">
                            <a href="tel:${p.mobile}" class="action-btn">üìû CALL</a>
                            <a href="https://wa.me/${p.whatsapp}" class="action-btn">üí¨ WHATSAPP</a>
                        </div>
                    </div>`;
            });
            section.innerHTML = `<div id="${key}List" class="grid-container">${partnersHtml}</div>`;
            contentArea.appendChild(section);
        });
    }

    function showSection(id, btn) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        const target = document.getElementById(id);
        if(target) target.classList.add('active');
        if(btn) btn.classList.add('active');
        document.getElementById('globalSearch').value = "";
        globalFilter(); 
    }

    function globalFilter() {
        const term = document.getElementById('globalSearch').value.toLowerCase();
        const activeSection = document.querySelector('.section.active');
        if (activeSection) {
            const cards = activeSection.querySelectorAll('.list-card');
            cards.forEach(card => {
                card.style.display = card.innerText.toLowerCase().includes(term) ? "block" : "none";
            });
        }
    }
</script>
</body>
</html>
